AUI.add("liferay-navigation-interaction",function(A){var ACTIVE_DESCENDANT="activeDescendant";var DIRECTION_LEFT="left";var DIRECTION_RIGHT="right";var NAME="liferaynavigationinteraction";var NavigationInteraction=A.Component.create({EXTENDS:A.Plugin.Base,NAME:NAME,NS:NAME,prototype:{_handleExit:function _handleExit(){var instance=this;var focusManager=instance._focusManager;if(focusManager.get(ACTIVE_DESCENDANT)){focusManager.set(ACTIVE_DESCENDANT,0);focusManager.blur()}instance._hideMenu();if(instance._isTriggerVisible())Liferay.fire("exitNavigation",
{navigation:instance.get("host")})},_handleKey:function _handleKey(event,direction){var instance=this;if(!instance._isTriggerVisible()){var item;var target=event.target;var parent=target.ancestors(instance._directChildLi).item(0);var fallbackFirst=true;if(direction==DIRECTION_LEFT){item=parent.previous();fallbackFirst=false}else item=parent.next();if(!item){var siblings=parent.siblings();if(fallbackFirst)item=siblings.first();else item=siblings.last()}instance._focusManager.focus(item.one("a"))}else Liferay.fire("exitNavigation",
{direction:direction,navigation:instance.get("host")})},_handleKeyDown:function _handleKeyDown(event){var instance=this;var handler;if(event.isKey("LEFT"))handler="_handleLeft";else if(event.isKey("RIGHT"))handler="_handleRight";else if(event.isKey("TAB")||event.isKey("ESC"))handler="_handleExit";if(handler)instance[handler](event)},_handleLeft:function _handleLeft(event){var instance=this;instance._handleKey(event,DIRECTION_LEFT)},_handleRight:function _handleRight(event){var instance=this;instance._handleKey(event,
DIRECTION_RIGHT)},_handleShowNavigationMenu:function _handleShowNavigationMenu(menuNew,menuOld,event){var instance=this;if(!(instance._lastShownMenu&&event.type.indexOf("focusedChange")>-1)){var mapHover=instance.MAP_HOVER;var menuOldDistinct=menuOld&&menuOld!=menuNew;if(menuOldDistinct)Liferay.fire("hideNavigationMenu",mapHover);if(!menuOld||menuOldDistinct){mapHover.menu=menuNew;Liferay.fire("showNavigationMenu",mapHover)}}if(instance._isTriggerVisible())if(menuOld){var exitDirection;var descendants=
instance._focusManager.get("descendants");var first=descendants.first();var last=descendants.last();var oldMenuLink=menuOld.one("a");var newMenuLink=menuNew.one("a");if(oldMenuLink===last&&newMenuLink===first)exitDirection="down";else if(oldMenuLink===first&&newMenuLink===last)exitDirection="up";if(exitDirection)Liferay.fire("exitNavigation",{direction:exitDirection,navigation:instance.get("host")})}},_hideMenu:function _hideMenu(){var instance=this;var mapHover=instance.MAP_HOVER;if(mapHover.menu){Liferay.fire("hideNavigationMenu",
mapHover);instance.MAP_HOVER={}}},_initChildMenuHandlers:function _initChildMenuHandlers(navigation){var instance=this;if(navigation){navigation.delegate(["mouseenter","mouseleave"],instance._onMouseToggle,"\x3e li",instance);navigation.delegate("keydown",instance._handleKeyDown,"a",instance)}},_initNodeFocusManager:function _initNodeFocusManager(){var instance=this;var host=instance.get("host");host.plug(A.Plugin.NodeFocusManager,{descendants:"a",focusClass:"active",keys:{next:"down:40",previous:"down:38"}});
var focusManager=host.focusManager;focusManager.after(["activeDescendantChange","focusedChange"],instance._showMenu,instance);Liferay.once("startNavigate",focusManager.destroy,focusManager);instance._focusManager=focusManager},_isTriggerVisible:function _isTriggerVisible(){var instance=this;return!!(instance._triggerNode&&instance._triggerNode.test(":visible"))},_onMouseToggle:function _onMouseToggle(event){var instance=this;var mapHover=instance.MAP_HOVER;var eventType="hideNavigationMenu";if(event.type==
"mouseenter")eventType="showNavigationMenu";mapHover.menu=event.currentTarget;Liferay.fire(eventType,mapHover)},_showMenu:function _showMenu(event){var instance=this;event.halt();var mapHover=instance.MAP_HOVER;var menuOld=mapHover.menu;var newMenuIndex=event.newVal;var handleMenuToggle=newMenuIndex||newMenuIndex===0;if(handleMenuToggle){var focusManager=instance._focusManager;var activeDescendant=focusManager.get(ACTIVE_DESCENDANT);var descendants=focusManager.get("descendants");var menuLink=descendants.item(activeDescendant);
var menuNew=menuLink.ancestor(instance._directChildLi);instance._handleShowNavigationMenu(menuNew,menuOld,event)}else if(menuOld){Liferay.fire("hideNavigationMenu",mapHover);instance.MAP_HOVER={}}},MAP_HOVER:{},initializer:function initializer(){var instance=this;var host=instance.get("host");var navInteractionSelector=Liferay.Data.NAV_INTERACTION_LIST_SELECTOR||"ul";var navigation=host.one(navInteractionSelector);var hostULId="#"+navigation.guid();instance._directChildLi=Liferay.Data.NAV_INTERACTION_ITEM_SELECTOR||
hostULId+"\x3e li";instance._hostULId=hostULId;instance._triggerNode=A.one(".nav-navigation-btn");Liferay.on(["hideNavigationMenu","showNavigationMenu"],function(event){var menu=event.menu;if(menu){instance._lastShownMenu=null;var showMenu=event.type==="showNavigationMenu"&&menu.hasClass("dropdown");if(showMenu)instance._lastShownMenu=menu;menu.toggleClass("hover",showMenu);menu.toggleClass("open",showMenu)}});instance._initChildMenuHandlers(navigation);instance._initNodeFocusManager()}}});Liferay.NavigationInteraction=
NavigationInteraction},"",{requires:["aui-base","aui-component","event-mouseenter","node-focusmanager","plugin"]});
YUI.add("dd-ddm-base",function(e,t){var n=function(){n.superclass.constructor.apply(this,arguments)};n.NAME="ddm",n.ATTRS={dragCursor:{value:"move"},clickPixelThresh:{value:3},clickTimeThresh:{value:1e3},throttleTime:{value:-1},dragMode:{value:"point",setter:function(e){return this._setDragMode(e),e}}},e.extend(n,e.Base,{_createPG:function(){},_active:null,_setDragMode:function(t){switch(null===t&&(t=e.DD.DDM.get("dragMode")),t){case 1:case"intersect":return 1;case 2:case"strict":return 2;case 0:case"point":return 0}return 0},CSS_PREFIX:e.ClassNameManager.getClassName("dd"),_activateTargets:function(){},_drags:[],activeDrag:!1,_regDrag:function(e){return!this.getDrag(e.get("node"))&&(this._active||this._setupListeners(),this._drags.push(e),!0)},_unregDrag:function(t){var n=[];e.Array.each(this._drags,function(e){e!==t&&(n[n.length]=e)}),this._drags=n},_setupListeners:function(){this._createPG(),this._active=!0;var t=e.one(e.config.doc);t.on("mousemove",e.throttle(e.bind(this._docMove,this),this.get("throttleTime"))),t.on("mouseup",e.bind(this._end,this))},_start:function(){this.fire("ddm:start"),this._startDrag()},_startDrag:function(){},_endDrag:function(){},_dropMove:function(){},_end:function(){this.activeDrag&&(this._shimming=!1,this._endDrag(),this.fire("ddm:end"),this.activeDrag.end.call(this.activeDrag),this.activeDrag=null)},stopDrag:function(){return this.activeDrag&&this._end(),this},_shimming:!1,_docMove:function(e){this._shimming||this._move(e)},_move:function(e){this.activeDrag&&(this.activeDrag._move.call(this.activeDrag,e),this._dropMove())},cssSizestoObject:function(e){var t=e.split(" ");switch(t.length){case 1:t[1]=t[2]=t[3]=t[0];break;case 2:t[2]=t[0],t[3]=t[1];break;case 3:t[3]=t[1]}return{top:parseInt(t[0],10),right:parseInt(t[1],10),bottom:parseInt(t[2],10),left:parseInt(t[3],10)}},getDrag:function(t){var n=!1,i=e.one(t);return i instanceof e.Node&&e.Array.each(this._drags,function(e){i.compareTo(e.get("node"))&&(n=e)}),n},swapPosition:function(t,n){t=e.DD.DDM.getNode(t),n=e.DD.DDM.getNode(n);var i=t.getXY(),r=n.getXY();return t.setXY(r),n.setXY(i),t},getNode:function(t){return t instanceof e.Node?t:t=t&&t.get?e.Widget&&t instanceof e.Widget?t.get("boundingBox"):t.get("node"):e.one(t)},swapNode:function(t,n){t=e.DD.DDM.getNode(t);var i=(n=e.DD.DDM.getNode(n)).get("parentNode"),r=n.get("nextSibling");return r===t?i.insertBefore(t,n):n===t.get("nextSibling")?i.insertBefore(n,t):(t.get("parentNode").replaceChild(n,t),i.insertBefore(t,r)),t}}),e.namespace("DD"),e.DD.DDM=new n},"patched-v3.18.1",{requires:["node","base","yui-throttle","classnamemanager"]});
YUI.add("dd-drag",function(t,e){var i=t.DD.DDM,s="node",a="dragging",n="dragNode",r="offsetHeight",h="offsetWidth",l="drag:mouseDown",o="drag:afterMouseDown",d="drag:removeHandle",u="drag:addHandle",g="drag:removeInvalid",c="drag:addInvalid",_="drag:start",f="drag:end",v="drag:drag",p="drag:align",m=function(e){this._lazyAddAttrs=!1,m.superclass.constructor.apply(this,arguments),i._regDrag(this)||t.error("Failed to register node, already in use: "+e.node)};m.NAME="drag",m.START_EVENT="mousedown",m.ATTRS={node:{setter:function(e){if(this._canDrag(e))return e;var i=t.one(e);return i||t.error("DD.Drag: Invalid Node Given: "+e),i}},dragNode:{setter:function(e){if(this._canDrag(e))return e;var i=t.one(e);return i||t.error("DD.Drag: Invalid dragNode Given: "+e),i}},offsetNode:{value:!0},startCentered:{value:!1},clickPixelThresh:{value:i.get("clickPixelThresh")},clickTimeThresh:{value:i.get("clickTimeThresh")},lock:{value:!1,setter:function(t){return t?this.get(s).addClass(i.CSS_PREFIX+"-locked"):this.get(s).removeClass(i.CSS_PREFIX+"-locked"),t}},data:{value:!1},move:{value:!0},useShim:{value:!0},activeHandle:{value:!1},primaryButtonOnly:{value:!0},dragging:{value:!1},parent:{value:!1},target:{value:!1,setter:function(t){return this._handleTarget(t),t}},dragMode:{value:null,setter:function(t){return i._setDragMode(t)}},groups:{value:["default"],getter:function(){return this._groups?t.Object.keys(this._groups):(this._groups={},[])},setter:function(e){return this._groups=t.Array.hash(e),e}},handles:{value:null,setter:function(e){return e?(this._handles={},t.Array.each(e,function(e){var i=e;(e instanceof t.Node||e instanceof t.NodeList)&&(i=e._yuid),this._handles[i]=e,this._fixUserSelect(e)},this)):this._handles=null,e}},bubbles:{setter:function(t){return this.addTarget(t),t}},haltDown:{value:!0}},t.extend(m,t.Base,{_canDrag:function(t){return!!(t&&t.setXY&&t.getXY&&t.test&&t.contains)},_bubbleTargets:t.DD.DDM,addToGroup:function(t){return this._groups[t]=!0,i._activateTargets(),this},removeFromGroup:function(t){return delete this._groups[t],i._activateTargets(),this},target:null,_handleTarget:function(e){t.DD.Drop&&(!1===e?this.target&&(i._unregTarget(this.target),this.target=null):(t.Lang.isObject(e)||(e={}),e.bubbleTargets=e.bubbleTargets||this.getTargets(),e.node=this.get(s),e.groups=e.groups||this.get("groups"),this.target=new t.DD.Drop(e)))},_groups:null,_createEvents:function(){this.publish(l,{defaultFn:this._defMouseDownFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"drag"}),this.publish(p,{defaultFn:this._defAlignFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"drag"}),this.publish(v,{defaultFn:this._defDragFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"drag"}),this.publish(f,{defaultFn:this._defEndFn,preventedFn:this._prevEndFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"drag"});var e=[o,d,u,g,c,_,"drag:drophit","drag:dropmiss","drag:over","drag:enter","drag:exit"];t.Array.each(e,function(t){this.publish(t,{type:t,emitFacade:!0,bubbles:!0,preventable:!1,queuable:!1,prefix:"drag"})},this)},_ev_md:null,_startTime:null,_endTime:null,_handles:null,_invalids:null,_invalidsDefault:{textarea:!0,input:!0,a:!0,button:!0,select:!0},_dragThreshMet:null,_fromTimeout:null,_clickTimeout:null,deltaXY:null,startXY:null,nodeXY:null,lastXY:null,actXY:null,realXY:null,mouseXY:null,region:null,_handleMouseUp:function(){this.fire("drag:mouseup"),this._fixIEMouseUp(),i.activeDrag&&i._end()},_fixDragStart:function(t){this.validClick(t)&&t.preventDefault()},_fixUserSelect:function(e,i){var s=t.all(e);s&&(i?s.setStyles({"-moz-user-select":"auto","-ms-user-select":"auto","-webkit-user-select":"auto","user-select":"auto"}):s.setStyles({"-moz-user-select":"none","-ms-user-select":"none","-webkit-user-select":"none","user-select":"none"}))},_ieSelectFix:function(){return!1},_ieSelectBack:null,_fixIEMouseDown:function(){t.UA.ie&&(this._ieSelectBack=t.config.doc.body.onselectstart,t.config.doc.body.onselectstart=this._ieSelectFix)},_fixIEMouseUp:function(){t.UA.ie&&(t.config.doc.body.onselectstart=this._ieSelectBack)},_handleMouseDownEvent:function(t){this.validClick(t)&&t.preventDefault(),this.fire(l,{ev:t})},_defMouseDownFn:function(e){var s,a=e.ev;if(this._dragThreshMet=!1,this._ev_md=a,this.get("primaryButtonOnly")&&a.button>1)return!1;this.validClick(a)&&(this._fixIEMouseDown(a),a.touches||(this.get("haltDown")?a.halt():a.preventDefault()),this._setStartPosition([a.pageX,a.pageY]),i.activeDrag=this,s=this.get("clickTimeThresh"),a.touches&&(s=Math.max(750,s)),this._clickTimeout=t.later(s,this,this._timeoutCheck)),this.fire(o,{ev:a})},validClick:function(e){var i=!1,a=!1,n=e.target,r=null,h=null,l=null,o=!1;return this._handles?t.Object.each(this._handles,function(e,s){e instanceof t.Node||e instanceof t.NodeList?i||((l=e)instanceof t.Node&&(l=new t.NodeList(e._node)),l.each(function(t){t.contains(n)&&(i=!0)})):t.Lang.isString(s)&&n.test(s+", "+s+" *")&&!r&&(r=s,i=!0)}):((a=this.get(s)).contains(n)||a.compareTo(n))&&(i=!0),i&&this._invalids&&t.Object.each(this._invalids,function(e,s){t.Lang.isString(s)&&n.test(s+", "+s+" *")&&(i=!1)}),i&&(r?(h=e.currentTarget.all(r),o=!1,h.each(function(t){!t.contains(n)&&!t.compareTo(n)||o||(o=!0,this.set("activeHandle",t))},this)):this.set("activeHandle",this.get(s))),i},_setStartPosition:function(t){this.startXY=t,this.nodeXY=this.lastXY=this.realXY=this.get(s).getXY(),this.get("offsetNode")?this.deltaXY=[this.startXY[0]-this.nodeXY[0],this.startXY[1]-this.nodeXY[1]]:this.deltaXY=[0,0]},_timeoutCheck:function(){this.get("lock")||this._dragThreshMet||!this._ev_md||(this._fromTimeout=this._dragThreshMet=!0,this.start(),this._alignNode([this._ev_md.pageX,this._ev_md.pageY],!0))},removeHandle:function(e){var i=e;return(e instanceof t.Node||e instanceof t.NodeList)&&(i=e._yuid),this._handles[i]&&(delete this._handles[i],this._fixUserSelect(e,!0),this.fire(d,{handle:e})),this},addHandle:function(e){this._handles||(this._handles={});var i=e
;return(e instanceof t.Node||e instanceof t.NodeList)&&(i=e._yuid),this._handles[i]=e,this._fixUserSelect(e),this.fire(u,{handle:e}),this},removeInvalid:function(t){return this._invalids[t]&&(this._invalids[t]=null,delete this._invalids[t],this.fire(g,{handle:t})),this},addInvalid:function(e){return t.Lang.isString(e)&&(this._invalids[e]=!0,this.fire(c,{handle:e})),this},initializer:function(){if(this.get(s).dd=this,!this.get(s).get("id")){var e=t.stamp(this.get(s));this.get(s).set("id",e)}this.actXY=[],this._invalids=t.clone(this._invalidsDefault,!0),this._createEvents(),this.get(n)||this.set(n,this.get(s)),this.on("initializedChange",t.bind(this._prep,this)),this.set("groups",this.get("groups"))},_prep:function(){this._dragThreshMet=!1;var e=this.get(s);e.addClass(i.CSS_PREFIX+"-draggable"),e.on(m.START_EVENT,t.bind(this._handleMouseDownEvent,this)),e.on("mouseup",t.bind(this._handleMouseUp,this)),e.on(["dragstart","touchmove"],t.bind(this._fixDragStart,this))},_unprep:function(){var t=this.get(s);t.removeClass(i.CSS_PREFIX+"-draggable"),t.detachAll("mouseup"),t.detachAll("dragstart"),t.detachAll(m.START_EVENT),this.mouseXY=[],this.deltaXY=[0,0],this.startXY=[],this.nodeXY=[],this.lastXY=[],this.actXY=[],this.realXY=[]},start:function(){if(!this.get("lock")&&!this.get(a)){var t,e,l,o=this.get(s);this._startTime=(new Date).getTime(),i._start(),o.addClass(i.CSS_PREFIX+"-dragging"),this.fire(_,{pageX:this.nodeXY[0],pageY:this.nodeXY[1],startTime:this._startTime}),o=this.get(n),l=this.nodeXY,t=o.get(h),e=o.get(r),this.get("startCentered")&&this._setStartPosition([l[0]+t/2,l[1]+e/2]),this.region={0:l[0],1:l[1],area:0,top:l[1],right:l[0]+t,bottom:l[1]+e,left:l[0]},this.set(a,!0)}return this},end:function(){return this._endTime=(new Date).getTime(),this._clickTimeout&&this._clickTimeout.cancel(),this._dragThreshMet=this._fromTimeout=!1,!this.get("lock")&&this.get(a)&&this.fire(f,{pageX:this.lastXY[0],pageY:this.lastXY[1],startTime:this._startTime,endTime:this._endTime}),this.get(s).removeClass(i.CSS_PREFIX+"-dragging"),this.set(a,!1),this.deltaXY=[0,0],this},_defEndFn:function(){this._fixIEMouseUp(),this._ev_md=null},_prevEndFn:function(){this._fixIEMouseUp(),this.get(n).setXY(this.nodeXY),this._ev_md=null,this.region=null},_align:function(t){this.fire(p,{pageX:t[0],pageY:t[1]})},_defAlignFn:function(t){this.actXY=[t.pageX-this.deltaXY[0],t.pageY-this.deltaXY[1]]},_alignNode:function(t,e){this._align(t),e||this._moveNode()},_moveNode:function(t){var e=[],i=[],s=this.nodeXY,a=this.actXY;e[0]=a[0]-this.lastXY[0],e[1]=a[1]-this.lastXY[1],i[0]=a[0]-this.nodeXY[0],i[1]=a[1]-this.nodeXY[1],this.region={0:a[0],1:a[1],area:0,top:a[1],right:a[0]+this.get(n).get(h),bottom:a[1]+this.get(n).get(r),left:a[0]},this.fire(v,{pageX:a[0],pageY:a[1],scroll:t,info:{start:s,xy:a,delta:e,offset:i}}),this.lastXY=a},_defDragFn:function(e){if(this.get("move")){if(e.scroll&&e.scroll.node){var i=e.scroll.node.getDOMNode();i===t.config.win?i.scrollTo(e.scroll.left,e.scroll.top):(e.scroll.node.set("scrollTop",e.scroll.top),e.scroll.node.set("scrollLeft",e.scroll.left))}this.get(n).setXY([e.pageX,e.pageY]),this.realXY=[e.pageX,e.pageY]}},_move:function(t){if(this.get("lock"))return!1;if(this.mouseXY=[t.pageX,t.pageY],this._dragThreshMet||t.touches)this._dragThreshMet&&(this._clickTimeout&&this._clickTimeout.cancel(),this._alignNode([t.pageX,t.pageY]));else{var e=Math.abs(this.startXY[0]-t.pageX),i=Math.abs(this.startXY[1]-t.pageY);(e>this.get("clickPixelThresh")||i>this.get("clickPixelThresh"))&&(this._dragThreshMet=!0,this.start(),this._alignNode([t.pageX,t.pageY]))}},stopDrag:function(){return this.get(a)&&i._end(),this},destructor:function(){this._unprep(),this.target&&this.target.destroy(),i._unregDrag(this)}}),t.namespace("DD"),t.DD.Drag=m},"patched-v3.18.1",{requires:["dd-ddm-base","selector-css2"]});
YUI.add("dd-ddm",function(t,i){t.mix(t.DD.DDM,{_pg:null,_debugShim:!1,_activateTargets:function(){},_deactivateTargets:function(){},_startDrag:function(){this.activeDrag&&this.activeDrag.get("useShim")&&(this._shimming=!0,this._pg_activate(),this._activateTargets())},_endDrag:function(){t.later(0,this,this._pg_deactivate),this._deactivateTargets()},_pg_deactivate:function(){this._pg.setStyle("display","none")},_pg_activate:function(){this._pg||this._createPG();var t=this.activeDrag.get("activeHandle"),i="auto";t&&(i=t.getStyle("cursor")),"auto"===i&&(i=this.get("dragCursor")),this._pg_size(),this._pg.setStyles({top:0,left:0,display:"block",opacity:this._debugShim?".5":"0",cursor:i})},_pg_size:function(){if(this.activeDrag){var i=t.one("body"),e=i.get("docHeight"),s=i.get("docWidth");this._pg.setStyles({height:e+"px",width:s+"px"})}},_createPG:function(){var i,e=t.Node.create("<div></div>"),s=t.one("body");e.setStyles({top:"0",left:"0",position:"absolute",zIndex:"99999",overflow:"hidden",backgroundColor:"red",display:"none",height:"5px",width:"5px"}),e.set("id",t.stamp(e)),e.addClass(t.DD.DDM.CSS_PREFIX+"-shim"),s.prepend(e),this._pg=e,this._pg.on("mousemove",t.throttle(t.bind(this._move,this),this.get("throttleTime"))),this._pg.on("mouseup",t.bind(this._end,this)),i=t.one("win"),t.on("window:resize",t.bind(this._pg_size,this)),i.on("scroll",t.bind(this._pg_size,this))}},!0)},"patched-v3.18.1",{requires:["dd-ddm-base","event-resize"]});
YUI.add("dd-ddm-drop",function(t,i){t.mix(t.DD.DDM,{_noShim:!1,_activeShims:[],_hasActiveShim:function(){return!!this._noShim||this._activeShims.length},_addActiveShim:function(t){this._activeShims.push(t)},_removeActiveShim:function(i){var e=[];t.Array.each(this._activeShims,function(t){t._yuid!==i._yuid&&e.push(t)}),this._activeShims=e},syncActiveShims:function(i){t.later(0,this,function(i){var e=i?this.targets:this._lookup();t.Array.each(e,function(t){t.sizeShim.call(t)},this)},i)},mode:0,POINT:0,INTERSECT:1,STRICT:2,useHash:!0,activeDrop:null,validDrops:[],otherDrops:{},targets:[],_addValid:function(t){return this.validDrops.push(t),this},_removeValid:function(i){var e=[];return t.Array.each(this.validDrops,function(t){t!==i&&e.push(t)}),this.validDrops=e,this},isOverTarget:function(t){if(this.activeDrag&&t){var i,e,r=this.activeDrag.mouseXY,a=this.activeDrag.get("dragMode"),h=t.shim;if(r&&this.activeDrag){if(e=this.activeDrag.region,a===this.STRICT)return this.activeDrag.get("dragNode").inRegion(t.region,!0,e);if(t&&t.shim)return a===this.INTERSECT&&this._noShim?(i=e||this.activeDrag.get("node"),t.get("node").intersect(i,t.region).inRegion):(this._noShim&&(h=t.get("node")),h.intersect({top:r[1],bottom:r[1],left:r[0],right:r[0]},t.region).inRegion)}}return!1},clearCache:function(){this.validDrops=[],this.otherDrops={},this._activeShims=[]},_activateTargets:function(){this._noShim=!0,this.clearCache(),t.Array.each(this.targets,function(t){t._activateShim([]),!0===t.get("noShim")&&(this._noShim=!1)},this),this._handleTargetOver()},getBestMatch:function(i,e){var r,a=null,h=0;return t.Object.each(i,function(t){var i=this.activeDrag.get("dragNode").intersect(t.get("node"));t.region.area=i.area,i.inRegion&&i.area>h&&(h=i.area,a=t)},this),e?(r=[],t.Object.each(i,function(t){t!==a&&r.push(t)},this),[a,r]):a},_deactivateTargets:function(){var i,e=[],r=this.activeDrag,a=this.activeDrop;r&&a&&this.otherDrops[a]?(r.get("dragMode")?(a=(i=this.getBestMatch(this.otherDrops,!0))[0],e=i[1]):delete(e=this.otherDrops)[a],r.get("node").removeClass(this.CSS_PREFIX+"-drag-over"),a&&(a.fire("drop:hit",{drag:r,drop:a,others:e}),r.fire("drag:drophit",{drag:r,drop:a,others:e}))):r&&r.get("dragging")&&(r.get("node").removeClass(this.CSS_PREFIX+"-drag-over"),r.fire("drag:dropmiss",{pageX:r.lastXY[0],pageY:r.lastXY[1]})),this.activeDrop=null,t.Array.each(this.targets,function(t){t._deactivateShim([])},this)},_dropMove:function(){this._hasActiveShim()?this._handleTargetOver():t.Object.each(this.otherDrops,function(t){t._handleOut.apply(t,[])})},_lookup:function(){if(!this.useHash||this._noShim)return this.validDrops;var i=[];return t.Array.each(this.validDrops,function(t){t.shim&&t.shim.inViewportRegion(!1,t.region)&&i.push(t)}),i},_handleTargetOver:function(){var i=this._lookup();t.Array.each(i,function(t){t._handleTargetOver.call(t)},this)},_regTarget:function(t){this.targets.push(t)},_unregTarget:function(i){var e,r=[];t.Array.each(this.targets,function(t){t!==i&&r.push(t)},this),this.targets=r,e=[],t.Array.each(this.validDrops,function(t){t!==i&&e.push(t)}),this.validDrops=e},getDrop:function(i){var e=!1,r=t.one(i);return r instanceof t.Node&&t.Array.each(this.targets,function(t){r.compareTo(t.get("node"))&&(e=t)}),e}},!0)},"patched-v3.18.1",{requires:["dd-ddm"]});
YUI.add("dd-drop",function(t,e){var i="node",r=t.DD.DDM,s="offsetHeight",a="offsetWidth",h="drop:over",o="drop:enter",d="drop:exit",n=function(){this._lazyAddAttrs=!1,n.superclass.constructor.apply(this,arguments),t.on("domready",t.bind(function(){t.later(100,this,this._createShim)},this)),r._regTarget(this)};n.NAME="drop",n.ATTRS={node:{setter:function(e){var i=t.one(e);return i||t.error("DD.Drop: Invalid Node Given: "+e),i}},groups:{value:["default"],getter:function(){return this._groups?t.Object.keys(this._groups):(this._groups={},[])},setter:function(e){return this._groups=t.Array.hash(e),e}},padding:{value:"0",setter:function(t){return r.cssSizestoObject(t)}},lock:{value:!1,setter:function(t){return t?this.get(i).addClass(r.CSS_PREFIX+"-drop-locked"):this.get(i).removeClass(r.CSS_PREFIX+"-drop-locked"),t}},bubbles:{setter:function(t){return this.addTarget(t),t}},useShim:{value:!0,setter:function(e){return t.DD.DDM._noShim=!e,e}}},t.extend(n,t.Base,{_bubbleTargets:t.DD.DDM,addToGroup:function(t){return this._groups[t]=!0,this},removeFromGroup:function(t){return delete this._groups[t],this},_createEvents:function(){var e=[h,o,d,"drop:hit"];t.Array.each(e,function(t){this.publish(t,{type:t,emitFacade:!0,preventable:!1,bubbles:!0,queuable:!1,prefix:"drop"})},this)},_valid:null,_groups:null,shim:null,region:null,overTarget:null,inGroup:function(e){this._valid=!1;var i=!1;return t.Array.each(e,function(t){this._groups[t]&&(i=!0,this._valid=!0)},this),i},initializer:function(){t.later(100,this,this._createEvents);var e,s=this.get(i);s.get("id")||(e=t.stamp(s),s.set("id",e)),s.addClass(r.CSS_PREFIX+"-drop"),this.set("groups",this.get("groups"))},destructor:function(){r._unregTarget(this),this.shim&&this.shim!==this.get(i)&&(this.shim.detachAll(),this.shim.remove(),this.shim=null),this.get(i).removeClass(r.CSS_PREFIX+"-drop"),this.detachAll()},_deactivateShim:function(){if(!this.shim)return!1;this.get(i).removeClass(r.CSS_PREFIX+"-drop-active-valid"),this.get(i).removeClass(r.CSS_PREFIX+"-drop-active-invalid"),this.get(i).removeClass(r.CSS_PREFIX+"-drop-over"),this.get("useShim")&&this.shim.setStyles({top:"-999px",left:"-999px",zIndex:"1"}),this.overTarget=!1},_activateShim:function(){if(!r.activeDrag)return!1;if(this.get(i)===r.activeDrag.get(i))return!1;if(this.get("lock"))return!1;var t=this.get(i);this.inGroup(r.activeDrag.get("groups"))?(t.removeClass(r.CSS_PREFIX+"-drop-active-invalid"),t.addClass(r.CSS_PREFIX+"-drop-active-valid"),r._addValid(this),this.overTarget=!1,this.get("useShim")||(this.shim=this.get(i)),this.sizeShim()):(r._removeValid(this),t.removeClass(r.CSS_PREFIX+"-drop-active-valid"),t.addClass(r.CSS_PREFIX+"-drop-active-invalid"))},sizeShim:function(){if(!r.activeDrag)return!1;if(this.get(i)===r.activeDrag.get(i))return!1;if(this.get("lock"))return!1;if(!this.shim)return t.later(100,this,this.sizeShim),!1;var e,h,o,d=this.get(i),n=d.get(s),g=d.get(a),v=d.getXY(),l=this.get("padding");g=g+l.left+l.right,n=n+l.top+l.bottom,v[0]=v[0]-l.left,v[1]=v[1]-l.top,r.activeDrag.get("dragMode")===r.INTERSECT&&(n+=h=(e=r.activeDrag).get(i).get(s),g+=o=e.get(i).get(a),v[0]=v[0]-(o-e.deltaXY[0]),v[1]=v[1]-(h-e.deltaXY[1])),this.get("useShim")&&this.shim.setStyles({height:n+"px",width:g+"px",top:v[1]+"px",left:v[0]+"px"}),this.region={0:v[0],1:v[1],area:0,top:v[1],right:v[0]+g,bottom:v[1]+n,left:v[0]}},_createShim:function(){if(r._pg){if(!this.shim){var e=this.get("node");this.get("useShim")&&((e=t.Node.create('<div id="'+this.get(i).get("id")+'_shim"></div>')).setStyles({height:this.get(i).get(s)+"px",width:this.get(i).get(a)+"px",backgroundColor:"yellow",opacity:".5",zIndex:"1",overflow:"hidden",top:"-900px",left:"-900px",position:"absolute"}),r._pg.appendChild(e),e.on("mouseover",t.bind(this._handleOverEvent,this)),e.on("mouseout",t.bind(this._handleOutEvent,this))),this.shim=e}}else t.later(10,this,this._createShim)},_handleTargetOver:function(){r.isOverTarget(this)?(this.get(i).addClass(r.CSS_PREFIX+"-drop-over"),r.activeDrop=this,r.otherDrops[this]=this,this.overTarget?(r.activeDrag.fire("drag:over",{drop:this,drag:r.activeDrag}),this.fire(h,{drop:this,drag:r.activeDrag})):r.activeDrag.get("dragging")&&(this.overTarget=!0,this.fire(o,{drop:this,drag:r.activeDrag}),r.activeDrag.fire("drag:enter",{drop:this,drag:r.activeDrag}),r.activeDrag.get(i).addClass(r.CSS_PREFIX+"-drag-over"))):this._handleOut()},_handleOverEvent:function(){this.shim.setStyle("zIndex","999"),r._addActiveShim(this)},_handleOutEvent:function(){this.shim.setStyle("zIndex","1"),r._removeActiveShim(this)},_handleOut:function(t){r.isOverTarget(this)&&!t||this.overTarget&&(this.overTarget=!1,t||r._removeActiveShim(this),r.activeDrag&&(this.get(i).removeClass(r.CSS_PREFIX+"-drop-over"),r.activeDrag.get(i).removeClass(r.CSS_PREFIX+"-drag-over"),this.fire(d,{drop:this,drag:r.activeDrag}),r.activeDrag.fire("drag:exit",{drop:this,drag:r.activeDrag}),delete r.otherDrops[this]))}}),t.DD.Drop=n},"patched-v3.18.1",{requires:["dd-drag","dd-ddm-drop"]});
YUI.add("dd-drop-plugin",function(d,n){var o=function(d){d.node=d.host,o.superclass.constructor.apply(this,arguments)};o.NAME="dd-drop-plugin",o.NS="drop",d.extend(o,d.DD.Drop),d.namespace("Plugin"),d.Plugin.Drop=o},"patched-v3.18.1",{requires:["dd-drop"]});
YUI.add("dd-delegate",function(e,t){var s=function(){s.superclass.constructor.apply(this,arguments)},n="container",i="nodes",d=e.Node.create("<div>Temp Node</div>");e.extend(s,e.Base,{_bubbleTargets:e.DD.DDM,dd:null,_shimState:null,_handles:null,_onNodeChange:function(e){this.set("dragNode",e.newVal)},_afterDragEnd:function(){e.DD.DDM._noShim=this._shimState,this.set("lastNode",this.dd.get("node")),this.get("lastNode").removeClass(e.DD.DDM.CSS_PREFIX+"-dragging"),this.dd._unprep(),this.dd.set("node",d)},_delMouseDown:function(t){var s=t.currentTarget,n=this.dd,d=s,a=this.get("dragConfig"),o=n.get("node");s.test(this.get(i))&&!s.test(this.get("invalid"))&&(this._shimState=e.DD.DDM._noShim,e.DD.DDM._noShim=!0,this.set("currentNode",s),o.inDoc()&&n._unprep(),n.set("node",s),a&&a.dragNode?d=a.dragNode:n.proxy&&(d=e.DD.DDM._proxy),n.set("dragNode",d),n._prep(),n.fire("drag:mouseDown",{ev:t}))},_onMouseEnter:function(){this._shimState=e.DD.DDM._noShim,e.DD.DDM._noShim=!0},_onMouseLeave:function(){e.DD.DDM._noShim=this._shimState},initializer:function(){this._handles=[];var t=this.get("dragConfig")||{},s=this.get(n);t.node=d.cloneNode(!0),t.bubbleTargets=this,this.get("handles")&&(t.handles=this.get("handles")),this.dd=new e.DD.Drag(t),this.dd.after("drag:end",e.bind(this._afterDragEnd,this)),this.dd.on("dragNodeChange",e.bind(this._onNodeChange,this)),this.dd.after("drag:mouseup",function(){this._unprep()}),this._handles.push(e.delegate(e.DD.Drag.START_EVENT,e.bind(this._delMouseDown,this),s,this.get(i))),this._handles.push(e.on("mouseenter",e.bind(this._onMouseEnter,this),s)),this._handles.push(e.on("mouseleave",e.bind(this._onMouseLeave,this),s)),e.later(50,this,this.syncTargets),e.DD.DDM.regDelegate(this)},syncTargets:function(){var t,s,d;if(e.Plugin.Drop&&!this.get("destroyed"))return this.get("target")&&(t=e.one(this.get(n)).all(this.get(i)),s=this.dd.get("groups"),(d=this.get("dragConfig"))&&d.groups&&(s=d.groups),t.each(function(e){this.createDrop(e,s)},this)),this},createDrop:function(t,s){var n={useShim:!1,bubbleTargets:this};return t.drop||t.plug(e.Plugin.Drop,n),t.drop.set("groups",s),t},destructor:function(){(this.dd&&this.dd.destroy(),e.Plugin.Drop)&&e.one(this.get(n)).all(this.get(i)).unplug(e.Plugin.Drop);e.Array.each(this._handles,function(e){e.detach()})}},{NAME:"delegate",ATTRS:{container:{value:"body"},nodes:{value:".dd-draggable"},invalid:{value:"input, select, button, a, textarea"},lastNode:{value:d},currentNode:{value:d},dragNode:{value:d},over:{value:!1},target:{value:!1},dragConfig:{value:null},handles:{value:null}}}),e.mix(e.DD.DDM,{_delegates:[],regDelegate:function(e){this._delegates.push(e)},getDelegate:function(t){var s=null;return t=e.one(t),e.Array.each(this._delegates,function(e){t.test(e.get(n))&&(s=e)},this),s}}),e.namespace("DD"),e.DD.Delegate=s},"patched-v3.18.1",{requires:["dd-drag","dd-drop-plugin","event-mouseenter"]});
YUI.add("dd-proxy",function(e,t){var i,o=e.DD.DDM,n="node",r="dragNode",s="host",d=function(){d.superclass.constructor.apply(this,arguments)};d.NAME="DDProxy",d.NS="proxy",d.ATTRS={host:{},moveOnEnd:{value:!0},hideOnEnd:{value:!0},resizeFrame:{value:!0},positionProxy:{value:!0},borderStyle:{value:"1px solid #808080"},cloneNode:{value:!1}},i={_hands:null,_init:function(){if(!o._proxy)return o._createFrame(),void e.on("domready",e.bind(this._init,this));this._hands||(this._hands=[]);var t,i,d=this.get(s);d.get(r).compareTo(d.get(n))&&o._proxy&&d.set(r,o._proxy),e.Array.each(this._hands,function(e){e.detach()}),t=o.on("ddm:start",e.bind(function(){o.activeDrag===d&&o._setFrame(d)},this)),i=o.on("ddm:end",e.bind(function(){d.get("dragging")&&(this.get("moveOnEnd")&&d.get(n).setXY(d.lastXY),this.get("hideOnEnd")&&d.get(r).setStyle("display","none"),this.get("cloneNode")&&(d.get(r).remove(),d.set(r,o._proxy)))},this)),this._hands=[t,i]},initializer:function(){this._init()},destructor:function(){var t=this.get(s);e.Array.each(this._hands,function(e){e.detach()}),t.set(r,t.get(n))},clone:function(){var t=this.get(s),i=t.get(n),o=i.cloneNode(!0);return o.all('input[type="radio"]').removeAttribute("name"),delete o._yuid,o.setAttribute("id",e.guid()),o.setStyle("position","absolute"),i.get("parentNode").appendChild(o),t.set(r,o),o}},e.namespace("Plugin"),e.extend(d,e.Base,i),e.Plugin.DDProxy=d,e.mix(o,{_createFrame:function(){if(!o._proxy){o._proxy=!0;var t=e.Node.create("<div></div>"),i=e.one("body");t.setStyles({position:"absolute",display:"none",zIndex:"999",top:"-999px",left:"-999px"}),i.prepend(t),t.set("id",e.guid()),t.addClass(o.CSS_PREFIX+"-proxy"),o._proxy=t}},_setFrame:function(e){var t,i=e.get(n),s=e.get(r),d="auto";(t=o.activeDrag.get("activeHandle"))&&(d=t.getStyle("cursor")),"auto"===d&&(d=o.get("dragCursor")),s.setStyles({visibility:"hidden",display:"block",cursor:d,border:e.proxy.get("borderStyle")}),e.proxy.get("cloneNode")&&(s=e.proxy.clone()),e.proxy.get("resizeFrame")&&s.setStyles({height:i.get("offsetHeight")+"px",width:i.get("offsetWidth")+"px"}),e.proxy.get("positionProxy")&&s.setXY(e.nodeXY),s.setStyle("visibility","visible")}})},"patched-v3.18.1",{requires:["dd-drag"]});
YUI.add("aui-sortable-layout",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isFunction,s=n.isObject,o=n.isString,u=n.isValue,a=n.toInt,f=Math.ceil,l=e.DD.DDM,c=0,h=0,p=0,d=0,v=function(){return Array.prototype.slice.call(arguments).join(" ")},m=function(t){return e.Lang.isNodeList(t)?t:e.all(t)},g=function(e,t){return a(e.getStyle(t))},y=e.getClassName,b=y("sortable-layout","drag","indicator"),w=y("sortable-layout","drag","indicator","icon"),E=y("sortable-layout","drag","indicator","icon","left"),S=y("sortable-layout","drag","indicator","icon","right"),x=y("sortable-layout","drag","target","indicator"),T=y("icon"),N=y("icon","circle","triangle","l"),C=y("icon","circle","triangle","r"),k='<div class="'+b+'">'+'<div class="'+v(w,E,T,C)+'"></div>'+'<div class="'+v(w,S,T,N)+'"></div>'+"<div>",L=e.Component.create({NAME:"sortable-layout",ATTRS:{delegateConfig:{value:null,setter:function(t){var n=this,r=e.merge({bubbleTargets:n,dragConfig:{},nodes:n.get("dragNodes"),target:!0},t);return e.mix(r.dragConfig,{groups:n.get("groups"),startCentered:!0}),r},validator:s},proxyNode:{setter:function(t){return o(t)?e.Node.create(t):t}},dragNodes:{validator:o},dropContainer:{value:function(e){return e},validator:i},dropNodes:{setter:"_setDropNodes"},groups:{value:["sortable-layout"]},lazyStart:{value:!1,validator:r},placeholder:{value:k,setter:function(t){var n=o(t)?e.Node.create(t):t;return n.inDoc()||e.getBody().prepend(n.hide()),c=g(n,"marginBottom"),h=g(n,"marginTop"),n.addClass(x),p=g(n,"marginBottom"),d=g(n,"marginTop"),n}},proxy:{value:null,setter:function(t){var n=this,r={moveOnEnd:!1,positionProxy:!1};return n.get("proxyNode")&&(r.borderStyle=null),e.merge(r,t||{})}}},EXTENDS:e.Base,prototype:{initializer:function(){var e=this;e.bindUI()},bindUI:function(){var e=this;e.publish("placeholderAlign",{defaultFn:e._defPlaceholderAlign,queuable:!1,emitFacade:!0,bubbles:!0}),e._bindDDEvents(),e._bindDropZones()},addDropNode:function(t,n){var r=this;t=e.one(t),l.getDrop(t)||r.addDropTarget(new e.DD.Drop(e.merge({bubbleTargets:r,groups:r.get("groups"),node:t},n)))},addDropTarget:function(e){var t=this;e.addToGroup(t.get("groups"))},alignPlaceholder:function(e,t){var n=this,r=n.get("placeholder");n.lazyEvents||r.show(),n._syncPlaceholderSize(),r.setXY(n.getPlaceholderXY(e,t))},calculateDirections:function(e){var t=this,n=t.lastY,r=t.lastX,i=e.lastXY[0],s=e.lastXY[1];i!==r&&(t.XDirection=i<r?"left":"right"),s!==n&&(t.YDirection=s<n?"up":"down"),t.lastX=i,t.lastY=s},calculateQuadrant:function(e,t){var n=this,r=1,i=t.get("node").get("region"),s=e.mouseXY,o=s[0],u=s[1],a=i.top,f=i.left,l=a+(i.bottom-a)/2,c=f+(i.right-f)/2;return u<l?r=o>c?1:2:r=o<c?3:4,n.quadrant=r,r},getPlaceholderXY:function(e,t){var n=this,r=n.get("placeholder"),i=c,s=h;t&&(i=p,s=d),r.toggleClass(x,t);var o=f(e.bottom),u=f(e.left),a=f(e.top),l=u,v=n.quadrant<3?a-(r.get("offsetHeight")+i):o+s;return[l,v]},removeDropTarget:function(e){var t=this;e.removeFromGroup(t.get("groups"))},_alignCondition:function(){var e=this,t=l.activeDrag,n=e.activeDrop,r=!0;if(t&&n){var i=t.get("node"),s=n.get("node");!i.compareTo(s)&&i.contains(s)&&(r=!1)}return r},_bindDDEvents:function(){var t=this,n=t.get("delegateConfig"),r=t.get("proxy");t.delegate=new e.DD.Delegate(n),t.delegate.dd.plug(e.Plugin.DDProxy,r),t.on("drag:end",e.bind(t._onDragEnd,t)),t.on("drag:enter",e.bind(t._onDragEnter,t)),t.on("drag:exit",e.bind(t._onDragExit,t)),t.on("drag:over",e.bind(t._onDragOver,t)),t.on("drag:start",e.bind(t._onDragStart,t)),t.after("drag:start",e.bind(t._afterDragStart,t)),t.on("quadrantEnter",t._syncPlaceholderUI),t.on("quadrantExit",t._syncPlaceholderUI)},_bindDropZones:function(){var e=this,t=e.get("dropNodes");t&&t.each(function(t){e.addDropNode(t)})},_defPlaceholderAlign:function(){var e=this,t=e.activeDrop,n=e.get("placeholder");if(t&&n){var r=t.get("node"),i=!!r.drop;e.lastAlignDrop=t,e.alignPlaceholder(t.get("node").get("region"),i)}},_evOutput:function(){var e=this;return{drag:l.activeDrag,drop:e.activeDrop,quadrant:e.quadrant,XDirection:e.XDirection,YDirection:e.YDirection}},_fireQuadrantEvents:function(){var t=this,n=t._evOutput(),r=t.lastQuadrant,i=t.quadrant;i!==r&&(r&&t.fire("quadrantExit",e.merge({lastDrag:t.lastDrag,lastDrop:t.lastDrop,lastQuadrant:t.lastQuadrant,lastXDirection:t.lastXDirection,lastYDirection:t.lastYDirection},n)),t.fire("quadrantEnter",n)),t.fire("quadrantOver",n),t.lastDrag=l.activeDrag,t.lastDrop=t.activeDrop,t.lastQuadrant=i,t.lastXDirection=t.XDirection,t.lastYDirection=t.YDirection},_getAppendNode:function(){return l.activeDrag.get("node")},_positionNode:function(){var e=this,t=e.lastAlignDrop||e.activeDrop;if(t){var n=e._getAppendNode(),r=t.get("node"),i=u(r.drop),s=e.quadrant<3;if(e._alignCondition())if(i)r[s?"placeBefore":"placeAfter"](n);else{var o=e.get("dropContainer").apply(e,[r]);o[s?"prepend":"append"](n)}}},_syncPlaceholderUI:function(e){var t=this;t._alignCondition()&&t.fire("placeholderAlign",{drop:t.activeDrop,originalEvent:e})},_syncPlaceholderSize:function(){var e=this,t=e.activeDrop.get("node"),n=e.get("placeholder");n&&n.set("offsetWidth",t.get("offsetWidth"))},_syncProxyNodeUI:function(){var e=this,t=l.activeDrag.get("dragNode"),n=e.get("proxyNode");n&&!n.compareTo(t)&&(t.append(n),e._syncProxyNodeSize())},_syncProxyNodeSize:function(){var e=this,t=l.activeDrag.get("node"),n=e.get("proxyNode");t&&n&&(n.set("offsetHeight",t.get("offsetHeight")),n.set("offsetWidth",t.get("offsetWidth")))},_afterDragStart:function(e){var t=this;t.get("proxy")&&t._syncProxyNodeUI(e)},_onDragEnd:function(e){var t=this,n=t.get("placeholder"),r=t.get("proxyNode");t.lazyEvents||t._positionNode(e),r&&r.remove(),n&&n.hide(),t.lastQuadrant=null,t.lastXDirection=null,t.lastYDirection=null},_onDragEnter:function(e){var t=this;t.activeDrop=l.activeDrop,t.lazyEvents&&t.lastActiveDrop&&(t.lazyEvents=!1,t._syncPlaceholderUI(e)),t.lastActiveDrop||(t.lastActiveDrop=l.activeDrop)},_onDragExit:function(e){var t=this;t._syncPlaceholderUI(e),t.activeDrop=
l.activeDrop,t.lastActiveDrop=l.activeDrop},_onDragOver:function(e){var t=this,n=e.drag;t.activeDrop===l.activeDrop&&(t.calculateDirections(n),t.calculateQuadrant(n,t.activeDrop),t._fireQuadrantEvents())},_onDragStart:function(){var e=this;e.get("lazyStart")&&(e.lazyEvents=!0),e.lastActiveDrop=null,e.activeDrop=l.activeDrop},_setDropNodes:function(e){var t=this;return i(e)&&(e=e.call(t)),m(e)}}});e.SortableLayout=L},"3.1.0-deprecated.77",{requires:["dd-delegate","dd-drag","dd-drop","dd-proxy","aui-node","aui-component"],skinnable:!0});

YUI.add("transition",function(e,t){var n="",r="",i=e.config.doc,s="documentElement",o=i[s].style,u="transition",a="transitionProperty",f,l,c,h,p,d,v={},m=["Webkit","Moz"],g={Webkit:"webkitTransitionEnd"},y=function(){this.init.apply(this,arguments)};y._TRANSFORM="transform",y._toCamel=function(e){return e=e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),e},y._toHyphen=function(e){return e=e.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(e,t,n,r){var i=(t?"-"+t.toLowerCase():"")+n;return r&&(i+="-"+r.toLowerCase()),i}),e},y.SHOW_TRANSITION="fadeIn",y.HIDE_TRANSITION="fadeOut",y.useNative=!1,"transition"in o&&"transitionProperty"in o&&"transitionDuration"in o&&"transitionTimingFunction"in o&&"transitionDelay"in o?(y.useNative=!0,y.supported=!0):e.Array.each(m,function(e){var t=e+"Transition";t in i[s].style&&(n=e,r=y._toHyphen(e)+"-",y.useNative=!0,y.supported=!0,y._VENDOR_PREFIX=e)}),typeof o.transform=="undefined"&&e.Array.each(m,function(e){var t=e+"Transform";typeof o[t]!="undefined"&&(y._TRANSFORM=t)}),n&&(u=n+"Transition",a=n+"TransitionProperty"),f=r+"transition-property",l=r+"transition-duration",c=r+"transition-timing-function",h=r+"transition-delay",p="transitionend",d="on"+n.toLowerCase()+"transitionend",p=g[n]||p,y.fx={},y.toggles={},y._hasEnd={},y._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i,e.Node.DOM_EVENTS[p]=1,y.NAME="transition",y.DEFAULT_EASING="ease",y.DEFAULT_DURATION=.5,y.DEFAULT_DELAY=0,y._nodeAttrs={},y.prototype={constructor:y,init:function(e,t){var n=this;return n._node=e,!n._running&&t&&(n._config=t,e._transition=n,n._duration="duration"in t?t.duration:n.constructor.DEFAULT_DURATION,n._delay="delay"in t?t.delay:n.constructor.DEFAULT_DELAY,n._easing=t.easing||n.constructor.DEFAULT_EASING,n._count=0,n._running=!1),n},addProperty:function(t,n){var r=this,i=this._node,s=e.stamp(i),o=e.one(i),u=y._nodeAttrs[s],a,f,l,c,h;u||(u=y._nodeAttrs[s]={}),c=u[t],n&&n.value!==undefined?h=n.value:n!==undefined&&(h=n,n=v),typeof h=="function"&&(h=h.call(o,o)),c&&c.transition&&c.transition!==r&&c.transition._count--,r._count++,l=(typeof n.duration!="undefined"?n.duration:r._duration)||1e-4,u[t]={value:h,duration:l,delay:typeof n.delay!="undefined"?n.delay:r._delay,easing:n.easing||r._easing,transition:r},a=e.DOM.getComputedStyle(i,t),f=typeof h=="string"?a:parseFloat(a),y.useNative&&f===h&&setTimeout(function(){r._onNativeEnd.call(i,{propertyName:t,elapsedTime:l})},l*1e3)},removeProperty:function(t){var n=this,r=y._nodeAttrs[e.stamp(n._node)];r&&r[t]&&(delete r[t],n._count--)},initAttrs:function(t){var n,r=this._node;t.transform&&!t[y._TRANSFORM]&&(t[y._TRANSFORM]=t.transform,delete t.transform);for(n in t)t.hasOwnProperty(n)&&!y._reKeywords.test(n)&&(this.addProperty(n,t[n]),r.style[n]===""&&e.DOM.setStyle(r,n,e.DOM.getComputedStyle(r,n)))},run:function(t){var n=this,r=n._node,i=n._config,s={type:"transition:start",config:i};return n._running||(n._running=!0,i.on&&i.on.start&&i.on.start.call(e.one(r),s),n.initAttrs(n._config),n._callback=t,n._start()),n},_start:function(){this._runNative()},_prepDur:function(e){return e=parseFloat(e)*1e3,e+"ms"},_runNative:function(){var t=this,n=t._node,r=e.stamp(n),i=n.style,s=n.ownerDocument.defaultView.getComputedStyle(n),o=y._nodeAttrs[r],u="",a=s[y._toCamel(f)],d=f+": ",v=l+": ",m=c+": ",g=h+": ",b,w,E;a!=="all"&&(d+=a+",",v+=s[y._toCamel(l)]+",",m+=s[y._toCamel(c)]+",",g+=s[y._toCamel(h)]+",");for(E in o)b=y._toHyphen(E),w=o[E],(w=o[E])&&w.transition===t&&(E in n.style?(v+=t._prepDur(w.duration)+",",g+=t._prepDur(w.delay)+",",m+=w.easing+",",d+=b+",",u+=b+": "+w.value+"; "):this.removeProperty(E));d=d.replace(/,$/,";"),v=v.replace(/,$/,";"),m=m.replace(/,$/,";"),g=g.replace(/,$/,";"),y._hasEnd[r]||(n.addEventListener(p,t._onNativeEnd,""),y._hasEnd[r]=!0),i.cssText+=d+v+m+g+u},_end:function(t){var n=this,r=n._node,i=n._callback,s=n._config,o={type:"transition:end",config:s,elapsedTime:t},u=e.one(r);n._running=!1,n._callback=null,r&&(s.on&&s.on.end?setTimeout(function(){s.on.end.call(u,o),i&&i.call(u,o)},1):i&&setTimeout(function(){i.call(u,o)},1))},_endNative:function(e){var t=this._node,n=t.ownerDocument.defaultView.getComputedStyle(t,"")[y._toCamel(f)];e=y._toHyphen(e),typeof n=="string"&&(n=n.replace(new RegExp("(?:^|,\\s)"+e+",?"),","),n=n.replace(/^,|,$/,""),t.style[u]=n)},_onNativeEnd:function(t){var n=this,r=e.stamp(n),i=t,s=y._toCamel(i.propertyName),o=i.elapsedTime,u=y._nodeAttrs[r],f=u[s],l=f?f.transition:null,c,h;l&&(l.removeProperty(s),l._endNative(s),h=l._config[s],c={type:"propertyEnd",propertyName:s,elapsedTime:o,config:h},h&&h.on&&h.on.end&&h.on.end.call(e.one(n),c),l._count<=0&&(l._end(o),n.style[a]=""))},destroy:function(){var e=this,t=e._node;t&&(t.removeEventListener(p,e._onNativeEnd,!1),e._node=null)}},e.Transition=y,e.TransitionNative=y,e.Node.prototype.transition=function(t,n,r){var i=y._nodeAttrs[e.stamp(this._node)],s=i?i.transition||null:null,o,u;if(typeof t=="string"){typeof n=="function"&&(r=n,n=null),o=y.fx[t];if(n&&typeof n=="object"){n=e.clone(n);for(u in o)o.hasOwnProperty(u)&&(u in n||(n[u]=o[u]))}else n=o}else r=n,n=t;return s&&!s._running?s.init(this,n):s=new y(this._node,n),s.run(r),this},e.Node.prototype.show=function(t,n,r){return this._show(),t&&e.Transition&&(typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.SHOW_TRANSITION),this.transition(t,n,r)),this},e.NodeList.prototype.show=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).show(t,n,r);return this};var b=function(e,t,n){return function(){t&&t.call(e),n&&typeof n=="function"&&n.apply(e._node,arguments)}};e.Node.prototype.hide=function(t,n,r){return t&&e.Transition?(typeof n=="function"&&(r=n,n=null),r=b(this,this._hide,r),typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.HIDE_TRANSITION),this.transition(t,n,r)):this._hide(),this},e.NodeList.prototype.hide=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).hide(t,n,r);return this},e.NodeList.prototype
.transition=function(t,n,r){var i=this._nodes,s=this.size(),o=0,r=r===!0,u;while(u=i[o++])o<s&&r?e.one(u).transition(t):e.one(u).transition(t,n);return this},e.Node.prototype.toggleView=function(t,n,r){this._toggles=this._toggles||[],r=arguments[arguments.length-1];if(typeof t!="string"){n=t,this._toggleView(n,r);return}return typeof n=="function"&&(n=undefined),typeof n=="undefined"&&t in this._toggles&&(n=!this._toggles[t]),n=n?1:0,n?this._show():r=b(this,this._hide,r),this._toggles[t]=n,this.transition(e.Transition.toggles[t][n],r),this},e.NodeList.prototype.toggleView=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])o=e.one(o),o.toggleView.apply(o,arguments);return this},e.mix(y.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(e){return e.get("scrollHeight")+"px"},width:function(e){return e.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var e=this.getStyle("overflow");e!=="hidden"&&(this.setStyle("overflow","hidden"),this._transitionOverflow=e)},end:function(){this._transitionOverflow&&(this.setStyle("overflow",this._transitionOverflow),delete this._transitionOverflow)}}}}),e.mix(y.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]})},"patched-v3.18.1",{requires:["node-style"]});

YUI.add("aui-toggler-base",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isObject,s=n.isString,o=n.isUndefined,u=n.toInt,a="cubic-bezier(0, 0.1, 0, 1.0)",f=e.getClassName,l=f("toggler","content"),c=f("toggler","content","collapsed"),h=f("toggler","content","expanded"),p=f("toggler","content","wrapper"),d=f("toggler","header"),v=f("toggler","header","collapsed"),m=f("toggler","header","expanded"),g={"false":c,"true":h},y={"false":v,"true":m},b='<div class="'+p+'"></div>',w=e.Component.create({NAME:"toggler",ATTRS:{animated:{validator:r,value:!1,writeOnce:!0},animating:{validator:r,value:!1},bindDOMEvents:{validator:r,value:!0,writeOnce:!0},content:{setter:e.one},expanded:{validator:r,value:!0},header:{setter:e.one},toggleEvent:{validator:s,value:"tap",writeOnce:!0},transition:{validator:i,value:{duration:.4,easing:a}}},EXTENDS:e.Base,headerEventHandler:function(e,t){if(e.type===t.get("toggleEvent")||e.isKey("enter")||e.isKey("space"))return t.toggle();if(e.isKey("down")||e.isKey("right")||e.isKey("num_plus"))return t.expand();if(e.isKey("up")||e.isKey("left")||e.isKey("esc")||e.isKey("num_minus"))return t.collapse()},prototype:{initializer:function(){var e=this;e.bindUI(),e.syncUI(),e._uiSetExpanded(e.get("expanded"))},bindUI:function(){var t=this,n=t.get("header");n.setData("toggler",t);var r=[t.on("expandedChange",e.bind(t._onExpandedChange,t))];t.get("bindDOMEvents")&&r.push(n.on([t.get("toggleEvent"),"keydown"],e.rbind(w.headerEventHandler,null,t))),t._eventHandles=r},syncUI:function(){var e=this;e.get("content").addClass(l),e.get("header").addClass(d)},destructor:function(){var t=this,n,r;t.get("header").setData("toggler",null),t.wrapped&&(n=t.get("content"),r=n.get("parentNode"),r.insert(n,"before"),r.remove()),(new e.EventHandle(t._eventHandles)).detach()},animate:function(t,n){var r=this;r._uiSetExpanded(!0);var i=e.merge(t,r.get("transition"));r.get("content").transition(i,e.bind(n,r))},collapse:function(e){var t=this;return t.toggle(!1,e)},expand:function(e){var t=this;return t.toggle(!0,e)},getContentHeight:function(){var e=this,t=e.get("content"),n=e.get("expanded"),r;n||e._uiSetExpanded(!0);if(t.hasMethod("getBoundingClientRect")){var i=t.invoke("getBoundingClientRect");i&&(r=i.bottom-i.top)}else r=t.get("offsetHeight");return n||e._uiSetExpanded(!1),r},toggle:function(e,t){var n=this,r=n.get("header"),i;if(!r.test(":visible"))return;i=n.get("expanded"),o(e)&&(e=!i);if(e!==i)if(n.get("animated")){if(n.get("animating"))return e;n._animation(e,t)}else n.set("expanded",e,t);return e},_animation:function(e,t){var n=this,r=n.get("content"),i=n.contentGutter,s=n.getContentHeight();o(i)&&(i=n.contentGutter=u(r.getStyle("marginTop"))),n.wrapped||(n._uiSetExpandedContent(),e&&r.setStyle("marginTop",-(s+i))),n.set("animating",!0),n.animate({marginTop:(e?i:-(s+i))+"px"},function(){n.set("animating",!1),n.set("expanded",e,t)})},_onExpandedChange:function(e){var t=this;t._uiSetExpanded(e.newVal)},_uiSetExpanded:function(e){var t=this,n=t.get("expanded");n&&!t.wrapped&&t._uiSetExpandedContent(),t.get("content").replaceClass(g[!e],g[e]),t.get("header").replaceClass(y[!e],y[e])},_uiSetExpandedContent:function(){var e=this;e.get("content").wrap(b),e.wrapped=!0}}});e.Toggler=w},"3.1.0-deprecated.77",{requires:["transition","aui-selector","aui-event-base","aui-node","aui-component","event-tap"],skinnable:!0});

YUI.add("aui-toggler-delegate",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isObject,s=n.isString,o=e.Array,u=e.config.doc,a=e.Toggler,f="cubic-bezier(0, 0.1, 0, 1.0)",l=e.getClassName,c=l("toggler","content","wrapper"),h=l("toggler","header","collapsed"),p=l("toggler","header","expanded"),d=e.Component.create({NAME:"toggler-delegate",ATTRS:{animated:{validator:r,value:!1,writeOnce:!0},closeAllOnExpand:{validator:r,value:!1},container:{setter:e.one,value:u},content:{validator:s},expanded:{validator:r,value:!0},header:{validator:s},toggleEvent:{validator:s,value:"tap",writeOnce:!0},transition:{validator:i,value:{duration:.4,easing:f}}},EXTENDS:e.Base,prototype:{items:null,initializer:function(){var e=this;e.items=[],e.bindUI(),e.renderUI()},renderUI:function(){var e=this;e.get("closeAllOnExpand")&&e.createAll()},bindUI:function(){var t=this,n=t.get("container"),r=t.get("header");t._eventHandles=[n.delegate([t.get("toggleEvent"),"keydown"],e.bind("headerEventHandler",t),r),t.on("toggler:animatingChange",e.bind("_onAnimatingChange",t))]},destructor:function(){var t=this;o.each(t.items,function(e){e.destroy()}),t.items=null,(new e.EventHandle(t._eventHandles)).detach()},collapseAll:function(t){var n=this;n.createAll(),e.Array.invoke(n.items,"collapse",t)},createAll:function(){var e=this;e.get("container").all(e.get("header")).each(function(t){t.getData("toggler")||e._create(t)})},expandAll:function(t){var n=this;n.createAll(),e.Array.invoke(n.items,"expand",t)},findContentNode:function(e){var t=this,n=t.get("content"),r=e.next(n)||e.one(n);if(!r){var i=e.next("."+c);i&&(r=i.get("firstChild"))}return r},headerEventHandler:function(e){var t=this;if(t.animating)return!1;var n=e.currentTarget,r=n.getData("toggler")||t._create(n);if(a.headerEventHandler(e,r)&&t.get("closeAllOnExpand")){var i=r.get("content").ancestor(t.get("content"));o.each(t.items,function(e){if(e!==r&&e.get("expanded"))if(i){var t=e.get("content");t!==i&&i.contains(t)&&e.collapse()}else e.collapse()})}},_create:function(e){var t=this,n=t.get("expanded");e.hasClass(p)?n=!0:e.hasClass(h)&&(n=!1);var r=new a({animated:t.get("animated"),bindDOMEvents:!1,bubbleTargets:[t],content:t.findContentNode(e),expanded:n,header:e,toggleEvent:t.get("toggleEvent"),transition:t.get("transition")});return t.items.push(r),r},_onAnimatingChange:function(e){var t=this;t.animating=e.newVal}}});e.TogglerDelegate=d},"3.1.0-deprecated.77",{requires:["array-invoke","node-event-delegate","aui-toggler-base"]});

